{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ljaya\\\\OneDrive\\\\Documents\\\\ENG 2\\\\SEM 2\\\\WT\\\\Mess_Project\\\\mess-management\\\\src\\\\components\\\\AdminDashboard\\\\AdminProfilePicture.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport styles from './AdminProfilePicture.module.css';\nimport defaultAdminAvatar from '../../assets/images/admin-avatar.png'; // Default avatar import\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminProfilePicture = ({\n  onPhotoUpload\n}) => {\n  _s();\n  const fileInputRef = useRef(null);\n  const [profileImage, setProfileImage] = useState(defaultAdminAvatar);\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const handleButtonClick = () => {\n    fileInputRef.current.click();\n  };\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Validate file type\n    if (!file.type.match('image.*')) {\n      alert('Please select an image file (JPEG, PNG)');\n      return;\n    }\n\n    // Validate file size (max 5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      alert('File size too large (max 5MB)');\n      return;\n    }\n\n    // Create preview\n    const reader = new FileReader();\n    reader.onload = event => {\n      setProfileImage(event.target.result);\n      setUploadedFile(file);\n      if (onPhotoUpload) {\n        onPhotoUpload(file); // Pass the file to parent component\n      }\n    };\n    reader.readAsDataURL(file);\n  };\n  const handleRemovePhoto = () => {\n    setProfileImage(defaultAdminAvatar);\n    setUploadedFile(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n    if (onPhotoUpload) {\n      onPhotoUpload(null); // Notify parent that photo was removed\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.profilePictureContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.profilePictureWrapper,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: profileImage,\n        alt: \"Admin Profile\",\n        className: styles.profilePicture,\n        onError: e => {\n          e.target.src = defaultAdminAvatar; // Fallback if image fails to load\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      ref: fileInputRef,\n      onChange: handleFileChange,\n      accept: \"image/*\",\n      className: styles.fileInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.buttonGroup,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.changePhotoButton,\n        onClick: handleButtonClick,\n        type: \"button\",\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: uploadedFile ? 'Change Photo' : 'Change Photo'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), uploadedFile && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.removePhotoButton,\n        onClick: handleRemovePhoto,\n        type: \"button\",\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminProfilePicture, \"nQOydqd2SUr4Bej1gnQ9I8krUMw=\");\n_c = AdminProfilePicture;\nexport default AdminProfilePicture;\nvar _c;\n$RefreshReg$(_c, \"AdminProfilePicture\");","map":{"version":3,"names":["React","useRef","useState","styles","defaultAdminAvatar","jsxDEV","_jsxDEV","AdminProfilePicture","onPhotoUpload","_s","fileInputRef","profileImage","setProfileImage","uploadedFile","setUploadedFile","handleButtonClick","current","click","handleFileChange","e","file","target","files","type","match","alert","size","reader","FileReader","onload","event","result","readAsDataURL","handleRemovePhoto","value","className","profilePictureContainer","children","profilePictureWrapper","src","alt","profilePicture","onError","fileName","_jsxFileName","lineNumber","columnNumber","ref","onChange","accept","fileInput","buttonGroup","changePhotoButton","onClick","removePhotoButton","_c","$RefreshReg$"],"sources":["C:/Users/ljaya/OneDrive/Documents/ENG 2/SEM 2/WT/Mess_Project/mess-management/src/components/AdminDashboard/AdminProfilePicture.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport styles from './AdminProfilePicture.module.css';\r\nimport defaultAdminAvatar from '../../assets/images/admin-avatar.png'; // Default avatar import\r\n\r\nconst AdminProfilePicture = ({ onPhotoUpload }) => {\r\n  const fileInputRef = useRef(null);\r\n  const [profileImage, setProfileImage] = useState(defaultAdminAvatar);\r\n  const [uploadedFile, setUploadedFile] = useState(null);\r\n\r\n  const handleButtonClick = () => {\r\n    fileInputRef.current.click();\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    // Validate file type\r\n    if (!file.type.match('image.*')) {\r\n      alert('Please select an image file (JPEG, PNG)');\r\n      return;\r\n    }\r\n\r\n    // Validate file size (max 5MB)\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      alert('File size too large (max 5MB)');\r\n      return;\r\n    }\r\n\r\n    // Create preview\r\n    const reader = new FileReader();\r\n    reader.onload = (event) => {\r\n      setProfileImage(event.target.result);\r\n      setUploadedFile(file);\r\n      if (onPhotoUpload) {\r\n        onPhotoUpload(file); // Pass the file to parent component\r\n      }\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const handleRemovePhoto = () => {\r\n    setProfileImage(defaultAdminAvatar);\r\n    setUploadedFile(null);\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n    if (onPhotoUpload) {\r\n      onPhotoUpload(null); // Notify parent that photo was removed\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.profilePictureContainer}>\r\n      <div className={styles.profilePictureWrapper}>\r\n        <img \r\n          src={profileImage} \r\n          alt=\"Admin Profile\" \r\n          className={styles.profilePicture}\r\n          onError={(e) => {\r\n            e.target.src = defaultAdminAvatar; // Fallback if image fails to load\r\n          }}\r\n        />\r\n      </div>\r\n      \r\n      <input\r\n        type=\"file\"\r\n        ref={fileInputRef}\r\n        onChange={handleFileChange}\r\n        accept=\"image/*\"\r\n        className={styles.fileInput}\r\n      />\r\n      \r\n      <div className={styles.buttonGroup}>\r\n        <button \r\n          className={styles.changePhotoButton}\r\n          onClick={handleButtonClick}\r\n          type=\"button\"\r\n        >\r\n          <b>{uploadedFile ? 'Change Photo' : 'Change Photo'}</b>\r\n        </button>\r\n        \r\n        {uploadedFile && (\r\n          <button\r\n            className={styles.removePhotoButton}\r\n            onClick={handleRemovePhoto}\r\n            type=\"button\"\r\n          >\r\n            <b>Remove</b>\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminProfilePicture;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}